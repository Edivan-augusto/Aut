/* Base & layout */
* { box-sizing: border-box; }
html, body { max-width: 100%; overflow-x: hidden; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, "Helvetica Neue", Arial;
  background: #0b1b2d;
  color: #e6f3ef;
  line-height: 1.55;
}

.topbar {
  position: sticky;
  top: 0;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 16px;
  background: rgba(11,27,45,.9);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.brand { display: inline-flex; align-items: center; gap: 8px; font-weight: 800; letter-spacing: .2px; }
.logo-dot { width: 10px; height: 10px; border-radius: 50%; background: #00eaff; box-shadow: 0 0 10px rgba(0,234,255,.7); }
.tag { border:1px solid rgba(255,255,255,.15); color:#9bdaff; padding:2px 8px; border-radius:999px; font-size:.85rem; margin-left:6px; }
.status { display:inline-flex; align-items:center; gap:6px; margin-left:8px; opacity:.95; }
.status-dot { width:10px; height:10px; border-radius:50%; background:#28c76f; box-shadow:0 0 10px rgba(40,199,111,.6); display:inline-block; }

.controls { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
.controls label { color:#cfe9ff; font-weight:600; display:inline-flex; align-items:center; gap:6px; }
.controls select, .controls button { color: #e6f3ef; background: rgba(255,255,255,.10); border: 1px solid rgba(255,255,255,.18); border-radius: 10px; padding: 8px 10px; }
.controls select { min-width: 110px; -webkit-appearance: none; appearance: none; }
.controls select:focus { outline:none; border-color: rgba(0,234,255,.55); box-shadow: 0 0 0 3px rgba(0,234,255,.20); }
/* Garante contraste no dropdown nativo (nem todos os browsers aplicam) */
.controls select option { background:#0b1b2d; color:#e6f3ef; }
/* Caso use checkboxes no topo, aplica cor/acento no tema escuro */
.controls input[type="checkbox"]{ accent-color:#00eaff; background-color: transparent; }
#reload { cursor: pointer; padding: 8px 10px; }
.poll { opacity: .85; }

.grid { display: grid; grid-template-columns: 1.25fr .75fr; gap: 14px; max-width: 1100px; margin: 0 auto; padding: 14px; }
.col-span-2 { grid-column: 1 / -1; }

.panel { background: rgba(255,255,255,.04); border: 1px solid rgba(255,255,255,.08); border-radius: 12px; padding: 12px; }
.panel h2 { margin: 0 0 8px 0; font-size: 1.1rem; color: #bde8ff; }
.panel-head { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:6px; }
.muted { color: #c9d6e2; opacity: .9; }
.pills { display:flex; gap:8px; flex-wrap:wrap; }
.pill { border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06); color:#cfe9ff; border-radius:999px; padding:4px 10px; font-weight:700; font-size:.85rem; }
.stats-grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:10px; }
.stat { background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); border-radius:10px; padding:10px; }
.stat small { display:block; opacity:.8; }
.stat strong { font-size:1.05rem; }
.position { margin-top:10px; padding:10px; border-radius:10px; background: rgba(0,234,255,.06); border:1px solid rgba(0,234,255,.18); color:#cfefff; }
.actions-row { margin-top:10px; display:flex; justify-content:flex-end; }
.ghost { background: rgba(255,255,255,.06); color:#9bdaff; border:1px solid rgba(0,234,255,.35); border-radius:10px; padding:8px 12px; cursor:pointer; }
.ghost:disabled { opacity:.6; cursor:not-allowed; }
.pref-form { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:10px; }
.field { display:flex; flex-direction:column; gap:6px; }
.field input, .field select { background: rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); border-radius:10px; padding:8px 10px; color:#e6f3ef; }

.chart { width: 100%; height: 420px; }
.signals { display: grid; gap: 8px; max-height: 320px; overflow: auto; }

.foot { text-align: center; padding: 20px; opacity: .9; border-top: 1px solid rgba(255,255,255,.08); }
.foot a { color: #9bdaff; }

/* Toast */
.toast { position: fixed; right: 16px; bottom: 16px; background: rgba(0,0,0,.6); color: #fff; padding: 10px 14px; border-radius: 10px; box-shadow: 0 6px 18px rgba(0,0,0,.3); opacity: 0; transform: translateY(10px); transition: opacity .2s ease, transform .2s ease; z-index: 20; }

/* Toggle switch */
.switch { position: relative; display: inline-flex; align-items: center; gap: 6px; }
.switch input { display:none; }
.slider { position: relative; width: 42px; height: 24px; background: rgba(255,255,255,.15); border-radius: 999px; display: inline-block; vertical-align: middle; transition: background .2s ease; }
.slider::after { content:''; position:absolute; top:3px; left:3px; width:18px; height:18px; background:#fff; border-radius:50%; transition: transform .2s ease; }
.switch input:checked + .slider { background: #00eaff; }
.switch input:checked + .slider::after { transform: translateX(18px); }
.switch .switch-label { color:#e6f3ef; font-weight:700; }

/* Responsivo */
@media (max-width: 900px) {
  .grid { grid-template-columns: 1fr; }
  .col-span-2 { grid-column: auto; }
  .chart { height: 360px; }
}
@media (max-width: 640px) {
  .topbar { flex-direction: column; align-items: stretch; }
  .controls { width: 100%; }
  .chart { height: 55vh; min-height: 280px; }
  .signals { max-height: 240px; }
  .foot { padding: 16px; }
  .pref-form { grid-template-columns: 1fr; }
  .stats-grid { grid-template-columns: 1fr; }
}
